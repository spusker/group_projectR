---
title: "group_project"
author: "Stephanie Pusker"
date: "2022-11-16"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, error = FALSE)
```

```{r, package loading and data cleaning}
library(flexdashboard)
library(readr)
library(lubridate)
library(shiny)
library(jsonlite)
library(maptools)
library(ggplot2)
library(tidyr)
library(dplyr)
library(purrr)
library(leaflet)
library(plotly)
library(DT)
library(ggthemes)
library(viridis)
library(tidyverse)
library(tigris)


nyc_squirrels <- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-10-29/nyc_squirrels.csv")

nyc_squirrels_clean <- nyc_squirrels %>% 
  select(long, lat, unique_squirrel_id, hectare, date, hectare_squirrel_number,
         age, primary_fur_color, highlight_fur_color, running, chasing,
         climbing, eating, foraging, kuks, quaas, moans, tail_flags,
         tail_twitches, indifferent, runs_from, community_districts,
         police_precincts) %>% 
  mutate(date = mdy(date)) %>% 
  na.omit()

```

Row {}
-----------------------------------------------------------------------
```{r, map with tigris}

central_park <- metro_divisions(class = "sf") %>% 
  filter(NAME == "New York-Jersey City-White Plains, NY-NJ")

# leaflet map for central park
 leaflet() %>% 
  addTiles() %>% 
  fitBounds(-73.9823592,40.7636484,-73.9492441, 40.8005539)%>%
  addTiles() %>% 
  addCircleMarkers(nyc_squirrels_clean$long, 
                   nyc_squirrels_clean$lat, 
                   color = nyc_squirrels_clean$primary_fur_color, 
                   radius = 0.5, 
                   fill = T,
                   fillOpacity = 0.2,
                   opacity = 0.6)
  

 
```

Row {}
-----------------------------------------------------------------------
```{r, table 1}
primary_fur_color <- nyc_squirrels_clean %>%
  group_by(primary_fur_color) %>% 
  summarize(count = n())

df <- nyc_squirrels_clean %>%
  group_by(running) %>% 
  summarize(count = n())


```

Row{}
-----------------------------------------------------------------------
```{r, chunk for table 2}

```

